{{- if .Values.bridge.bootstrap.enabled }}
{{- if not .Values.bridge.bootstrap.tokenSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "bamf.fullname" . }}-bridge-bootstrap
  labels:
    {{- include "bamf.labels" . | nindent 4 }}
    app.kubernetes.io/component: bridge
type: Opaque
stringData:
  token: {{ required "bridge.bootstrap.token is required when bootstrap.enabled=true and no tokenSecret is specified" .Values.bridge.bootstrap.token | quote }}
{{- end }}
{{- end }}
