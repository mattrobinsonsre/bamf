<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="512" height="512">
  <defs>
    <!-- Smoke layer 1: Large chunky puffs - low frequency, high contrast -->
    <filter id="smoke1" x="-30%" y="-30%" width="160%" height="160%" color-interpolation-filters="sRGB">
      <feTurbulence type="turbulence" baseFrequency="0.006" numOctaves="4" seed="2" result="noise"/>
      <feColorMatrix type="matrix" in="noise" result="colored"
        values="0 0 0 0 0.42
                0 0 0 0 0.16
                0 0 0 0 0.71
                0 0 0 -3.5 2.0"/>
      <feGaussianBlur in="colored" stdDeviation="5" result="blurred"/>
      <feComposite in="blurred" in2="SourceGraphic" operator="in"/>
    </filter>

    <!-- Smoke layer 2: Medium billows -->
    <filter id="smoke2" x="-25%" y="-25%" width="150%" height="150%" color-interpolation-filters="sRGB">
      <feTurbulence type="turbulence" baseFrequency="0.01" numOctaves="5" seed="9" result="noise"/>
      <feColorMatrix type="matrix" in="noise" result="colored"
        values="0 0 0 0 0.49
                0 0 0 0 0.23
                0 0 0 0 0.85
                0 0 0 -4.0 2.2"/>
      <feGaussianBlur in="colored" stdDeviation="3" result="blurred"/>
      <feComposite in="blurred" in2="SourceGraphic" operator="in"/>
    </filter>

    <!-- Smoke layer 3: Wispy detail on top -->
    <filter id="smoke3" x="-20%" y="-20%" width="140%" height="140%" color-interpolation-filters="sRGB">
      <feTurbulence type="fractalNoise" baseFrequency="0.018" numOctaves="3" seed="14" result="noise"/>
      <feColorMatrix type="matrix" in="noise" result="colored"
        values="0 0 0 0 0.55
                0 0 0 0 0.30
                0 0 0 0 0.90
                0 0 0 -5.0 2.8"/>
      <feGaussianBlur in="colored" stdDeviation="2" result="blurred"/>
      <feComposite in="blurred" in2="SourceGraphic" operator="in"/>
    </filter>

    <!-- Outer faint tendrils - very low freq, very high contrast -->
    <filter id="tendrils" x="-40%" y="-40%" width="180%" height="180%" color-interpolation-filters="sRGB">
      <feTurbulence type="turbulence" baseFrequency="0.004" numOctaves="3" seed="6" result="noise"/>
      <feColorMatrix type="matrix" in="noise" result="colored"
        values="0 0 0 0 0.36
                0 0 0 0 0.13
                0 0 0 0 0.58
                0 0 0 -3.0 1.4"/>
      <feGaussianBlur in="colored" stdDeviation="10" result="blurred"/>
      <feComposite in="blurred" in2="SourceGraphic" operator="in"/>
    </filter>

    <!-- Triangle glow -->
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="8" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Radial masks - less smooth, larger spread -->
    <radialGradient id="maskOuter" cx="50%" cy="50%" r="55%">
      <stop offset="0%" stop-color="white" stop-opacity="1"/>
      <stop offset="40%" stop-color="white" stop-opacity="0.9"/>
      <stop offset="70%" stop-color="white" stop-opacity="0.5"/>
      <stop offset="90%" stop-color="white" stop-opacity="0.15"/>
      <stop offset="100%" stop-color="white" stop-opacity="0"/>
    </radialGradient>
    <radialGradient id="maskMid" cx="52%" cy="48%" r="48%">
      <stop offset="0%" stop-color="white" stop-opacity="1"/>
      <stop offset="35%" stop-color="white" stop-opacity="0.85"/>
      <stop offset="65%" stop-color="white" stop-opacity="0.4"/>
      <stop offset="100%" stop-color="white" stop-opacity="0"/>
    </radialGradient>
    <radialGradient id="maskDetail" cx="48%" cy="52%" r="40%">
      <stop offset="0%" stop-color="white" stop-opacity="0.9"/>
      <stop offset="50%" stop-color="white" stop-opacity="0.6"/>
      <stop offset="100%" stop-color="white" stop-opacity="0"/>
    </radialGradient>
    <radialGradient id="maskTendrils" cx="50%" cy="50%" r="60%">
      <stop offset="0%" stop-color="white" stop-opacity="0.5"/>
      <stop offset="30%" stop-color="white" stop-opacity="0.45"/>
      <stop offset="60%" stop-color="white" stop-opacity="0.2"/>
      <stop offset="100%" stop-color="white" stop-opacity="0"/>
    </radialGradient>

    <!-- Triangle gradient - solid, rich purple -->
    <linearGradient id="triFill" x1="50%" y1="0%" x2="50%" y2="100%">
      <stop offset="0%" stop-color="#7c3aed"/>
      <stop offset="100%" stop-color="#5b21b6"/>
    </linearGradient>
  </defs>

  <!-- Layer 1: Outer tendrils - large, sparse, reaching outward -->
  <rect x="0" y="0" width="512" height="512" fill="url(#maskTendrils)" filter="url(#tendrils)" opacity="0.6"/>

  <!-- Layer 2: Main smoke body - chunky puffs with gaps -->
  <rect x="0" y="0" width="512" height="512" fill="url(#maskOuter)" filter="url(#smoke1)" opacity="0.75"/>

  <!-- Layer 3: Medium billows - adds density variation -->
  <rect x="0" y="0" width="512" height="512" fill="url(#maskMid)" filter="url(#smoke2)" opacity="0.6"/>

  <!-- Layer 4: Fine wisps on top - sharp bright accents -->
  <rect x="0" y="0" width="512" height="512" fill="url(#maskDetail)" filter="url(#smoke3)" opacity="0.5"/>

  <!-- Central triangle - solid, opaque, glowing -->
  <g filter="url(#glow)">
    <!-- Glow halo -->
    <polygon points="256,140 340,320 172,320"
             fill="#7c3aed"
             opacity="0.3"/>
    <!-- Solid triangle fill -->
    <polygon points="256,148 334,316 178,316"
             fill="url(#triFill)"/>
    <!-- Bright edge highlight -->
    <polygon points="256,148 334,316 178,316"
             fill="none"
             stroke="#a78bfa"
             stroke-width="3"
             stroke-linejoin="round"/>
    <!-- Top edge gleam -->
    <polygon points="256,148 334,316 178,316"
             fill="none"
             stroke="#c4b5fd"
             stroke-width="1.5"
             stroke-linejoin="round"
             opacity="0.6"/>
  </g>
</svg>
